<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Etape 2a : Formatage et stockage du fichier type ICOS_meteosol</title>

<script src="site_libs/jquery-1.12.4/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<script src="site_libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="site_libs/datatables-binding-0.13/datatables.js"></script>
<link href="site_libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="site_libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="site_libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />




<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Doc SNO-T</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-database"></span>
     
    Les données du SNO-T
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Découverture du SI SNO-T</li>
    <li>
      <a href="1_Decouverte_OrganisationDonnees.html">Organisation des données</a>
    </li>
    <li>
      <a href="1_Decouverte_DonneesDiffusees.html">Les variables du SI SNO-T</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Stockage des données brutes</li>
    <li>
      <a href="2_SRVSO_Arborescence.html">Arborescence du serveur de stockage SRV-SO</a>
    </li>
    <li>
      <a href="2_SRVSO_DonneesReferences.html">Les données de référence du SRV-SO</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Stockage et diffusion des données cibles</li>
    <li>
      <a href="2_BDD_SNOT_DonneesReference.html">Les données de référence du SI SNO-T</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-book"></span>
     
    GES &amp; météo-sol
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Type de données eddy-covariance</li>
    <li>
      <a href="3.0_Sce_eddycovariance.html">Cycle de vie des données eddy-covariance</a>
    </li>
    <li>
      <a href="3.1_Sce_eddycovariance.html">1. Collecte des données brutes</a>
    </li>
    <li>
      <a href="3.2a_Sce_eddycovariance.html">2a. Formatage au format ICOS</a>
    </li>
    <li>
      <a href="3.2b_Sce_eddycovariance.html">2b. Calcul des flux de GES</a>
    </li>
    <li>
      <a href="3.3_Sce_eddycovariance.html">3. Intégration dans data-snot.cnrs.fr</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Données des chambres CO2</li>
    <li>
      <a href="3.0_Sce_chambreco2.html">Cycle de vie des données des chambres CO2</a>
    </li>
    <li>
      <a href="3.1_Sce_chambreco2.html">1. Collecte des données brutes</a>
    </li>
    <li>
      <a href="3.3_Sce_chambreco2.html">3. Intégration dans data-snot.cnrs.fr</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Type de données météo-sol</li>
    <li>
      <a href="3.0_Sce_meteosol.html">Cycle de vie des données météo-sol</a>
    </li>
    <li>
      <a href="3.1_Sce_meteosol.html">1. Collecte des données brutes</a>
    </li>
    <li>
      <a href="3.2a_Sce_meteosol.html">2a. Formatage au format ICOS</a>
    </li>
    <li>
      <a href="3.2b_Sce_meteosol.html">2b. Traitement des données météosol</a>
    </li>
    <li>
      <a href="3.3_Sce_meteosol.html">3. Intégration dans data-snot.cnrs.fr</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-book"></span>
     
    Hydro &amp; Biogéochimie
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Type de données provenant des piézomètres</li>
    <li>
      <a href="3.0_Sce_piezo.html">Cycle de vie des données des piézomètres</a>
    </li>
    <li>
      <a href="3.1_Sce_piezo.html">1. Collecte des données brutes</a>
    </li>
    <li>
      <a href="3.3_Sce_piezo.html">3. Intégration dans data-snot.cnrs.fr</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Type de données Carbone Organique Dissous (DOC)</li>
    <li>
      <a href="3.0_Sce_doc.html">Cycle de vie des données DOC</a>
    </li>
    <li>
      <a href="3.1_Sce_doc.html">1. Collecte des données brutes</a>
    </li>
    <li>
      <a href="3.3_Sce_doc.html">3. Intégration dans data-snot.cnrs.fr</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-hand-o-right"></span>
     
    Aide
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Utiliser data-snot.cnrs.fr</li>
    <li>
      <a href="4_AdminDonnees.html">Gestion des données de référence</a>
    </li>
    <li>
      <a href="4_IntegrationDonnees.html">Intégration des données d'observation</a>
    </li>
    <li>
      <a href="4_IntegrationNvelleDonnees.html">Comment intégrer une nouvelle donnée ?</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Démarche suite</li>
    <li>
      <a href="4_JeuxDonneesDOI.html">Les jeux de données et les DOI</a>
    </li>
    <li>
      <a href="4_Echange_SITheiaOzcar.html">L'échange avec le SI Theia/OZCAR</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Améliorer data-snot.cnrs.fr</li>
    <li>
      <a href="4_Forge.html">Utilisation de la Forge SNOT</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa fa fa-gears"></span>
     
    Procédures techniques
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Prendre en main le SI SNOT</li>
    <li>
      <a href="5_Architecture_SI-SNOT.html">Architecture du SI</a>
    </li>
    <li>
      <a href="5_MO_VersionnementGit.html">Le Dépôt Git</a>
    </li>
    <li>
      <a href="5_Administrer_SRVSO.html">Administrer le FTP SRV-SO</a>
    </li>
    <li>
      <a href="5_Administrer_PostgresQL.html">Serveur de base de données</a>
    </li>
    <li>
      <a href="5_Creation_documentation.html">Mise à jour de la documentation</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Administrer l'application data-snot.cnrs.fr</li>
    <li>
      <a href="5_Developper_appliSOERE.html">Guide de développement</a>
    </li>
    <li>
      <a href="5_Deploiement_appliSOERE.html">Déployer data-snot.cnrs.fr</a>
    </li>
    <li>
      <a href="5_Gestion_appliSOERE.html">Maintenance de data-snot.cnrs.fr</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Administrer les applications Shiny</li>
    <li>
      <a href="5_Administrer_shiny.html">Installer et administrer les applications Shiny</a>
    </li>
    <li>
      <a href="5_Developper_shiny.html">Développer les applications Shiny</a>
    </li>
    <li>
      <a href="5_Deploiement_shiny.html">Déployer les applications Shiny</a>
    </li>
    <li>
      <a href="5_Probleme_shiny.html">Quoi faire en cas de problème sur les applications Shiny</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Métadonnées PIVOT (SI Theia/OZCAR)</li>
    <li>
      <a href="5_Developper_MetadataPivot.html">Développer le module de création des métadonnées PIVOT</a>
    </li>
    <li>
      <a href="5_Deploiement_MetadataPivot.html">Déployer le module de création des métadonnées PIVOT</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Etape 2a : Formatage et stockage du fichier type <code>ICOS_meteosol</code></h1>

</div>


<div class="alert alert-success" role="alert">
<h4 class="alert-heading">
<strong>Objectifs et contenu</strong>
</h4>
<p>
Décrire la création des Fichiers bruts au format ICOS. Ce type de fichier est nommé <code>ICOS_meteosol</code>
</p>
</div>
<div class="alert alert-info" role="alert">
<h4 class="alert-heading">
<strong>Public visé et pré-requis</strong>
</h4>
<p>
Sites associés ou labellisés ICOS Europe,
</p>
<p>
Thématiciens et gestionnaires des données sur les données météo-sol,
</p>
<p>
Connaissance générale de l'organisation des données du SI SNO-T.
</p>
</div>
<p>En fonction des sites du SNO-T, l'étape 2a consiste à décompresser et formater le fichier des données brutes pour l'envoyer à ICOS. L'objectif de cette mise en forme est de respecter les recommandations de ce <a href="http://www.europe-fluxdata.eu/icos/documents/instructions/bmform">document ICOS</a> datant du 15/06/2018 (<strong>Attention</strong>, les recommandations sont régulièrement mises à jour).</p>
<div id="format-et-encodage" class="section level1">
<h1><span class="header-section-number">1</span> Format et encodage</h1>
<p>Les fichiers doivent être au format <code>.csv</code> siteInstru()avec les caractéristiques suivantes :</p>
<ul>
<li>Séparateur de colonne : <code>;</code></li>
<li>Séparateur de décimal : <code>.</code></li>
<li>Encodage du fichier : <code>UTF-8</code></li>
</ul>
</div>
<div id="convention-de-nommage" class="section level1">
<h1><span class="header-section-number">2</span> Convention de nommage</h1>
<p>Le fichier d'échange respectent la convention de nommage ICOS basée sur la règle suivante :</p>
<pre><code>[code_pays]-[code_site]_[code_station]_[AAAAMMDDHHMM]_L[LN]_F[FN].csv</code></pre>
<p>avec :</p>
<ul>
<li>[code_pays] : FR pour la France,</li>
<li>[code_station] : Le code la station. Ici, la mesure est réalisée avec les stations eddy-covariance, le code est <strong>BM</strong>.</li>
<li>[AAAAMMDDHHMM] : la date à laquelle <strong>la mesure s'est terminée</strong>,</li>
<li>[LN] : 2 chiffres, numéro du logger (chaque logger doit être identifié par un numéro unique),</li>
<li>[FN] : 2 chiffres, numéro du fichier généré par le logger (dans le cas où plusieurs fichiers sont générés dans le même logger, chaque fichier doit être identifié par un numéro unique).</li>
</ul>
<div class="alert alert-danger" role="alert">
<h4 class="alert-heading">
<strong>Attention</strong>
</h4>
<p>
Toutes les données collectées doivent être enregistrées sur le fuseau horaire UTC+1
</p>
</div>
<p>Les codes sont définis selon les règles et nomenclatures suivantes :</p>
<div id="nomenclature-du-code-des-sites-code_site" class="section level2">
<h2><span class="header-section-number">2.1</span> Nomenclature du code des sites [code_site]</h2>
<table class="table table-striped table-hover table-condensed" style="float: left; margin-right: 10px;">
<thead>
<tr>
<th style="text-align:left;">
type_site
</th>
<th style="text-align:left;">
code_site
</th>
<th style="text-align:left;">
nom
</th>
<th style="text-align:left;">
parent
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Site
</td>
<td style="text-align:left;">
frn
</td>
<td style="text-align:left;">
Tourbière de Frasne
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Site
</td>
<td style="text-align:left;">
lgt
</td>
<td style="text-align:left;">
Tourbière de La Guette
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Site
</td>
<td style="text-align:left;">
ldm
</td>
<td style="text-align:left;">
Tourbière de Landemarais
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Site
</td>
<td style="text-align:left;">
bdz
</td>
<td style="text-align:left;">
Tourbière de Bernadouze
</td>
<td style="text-align:left;">
</td>
</tr>
</tbody>
</table>
</div>
<div id="nomenclature-du-code-des-stations-code_station" class="section level2">
<h2><span class="header-section-number">2.2</span> Nomenclature du code des stations [code_station]</h2>
<p>Ancien et nouveaux codes des stations pour le SNO-T</p>
<table class="table table-striped table-hover table-condensed" style="float: left; margin-right: 10px;">
<thead>
<tr>
<th style="text-align:left;">
code_station
</th>
<th style="text-align:left;">
ancien_code
</th>
<th style="text-align:left;">
code_logger
</th>
<th style="text-align:left;">
description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
bm[code_logger]
</td>
<td style="text-align:left;">
001 à 003
</td>
<td style="text-align:left;">
1 à 99
</td>
<td style="text-align:left;">
Bio Meteorological : station météo et physique du sol
</td>
</tr>
<tr>
<td style="text-align:left;">
ec[code_logger]
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
1 à 99
</td>
<td style="text-align:left;">
Eddy-Covariance : station eddy-covariance
</td>
</tr>
<tr>
<td style="text-align:left;">
A définir
</td>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
1 à 99
</td>
<td style="text-align:left;">
Fluorescence : station fluorescence de la matière organique dissoute à l’exutoire
</td>
</tr>
<tr>
<td style="text-align:left;">
pz_[nom_vernaculaire] ou pz[code_logger]
</td>
<td style="text-align:left;">
006 à 015
</td>
<td style="text-align:left;">
Pas de code_logger
</td>
<td style="text-align:left;">
Piézomètre
</td>
</tr>
<tr>
<td style="text-align:left;">
ch_[nom_vernaculaire] ou ch[code_logger]
</td>
<td style="text-align:left;">
101 à 105
</td>
<td style="text-align:left;">
1 à 99
</td>
<td style="text-align:left;">
Chambre de mesure statique (équipement Vaisala) pour le CO2
</td>
</tr>
<tr>
<td style="text-align:left;">
ch_[nom_vernaculaire] ou ch[code_logger]
</td>
<td style="text-align:left;">
106
</td>
<td style="text-align:left;">
1 à 99
</td>
<td style="text-align:left;">
Chambre de mesure statique (équipement Los Gatos) pour le CH4
</td>
</tr>
<tr>
<td style="text-align:left;">
A définir
</td>
<td style="text-align:left;">
107
</td>
<td style="text-align:left;">
1 à 99
</td>
<td style="text-align:left;">
Température : sonde pour mesurer les profils de température
</td>
</tr>
<tr>
<td style="text-align:left;">
A définir
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
1 à 99
</td>
<td style="text-align:left;">
Teneur en Eau : sonde pour mesurer la teneur en eau
</td>
</tr>
<tr>
<td style="text-align:left;">
A définir
</td>
<td style="text-align:left;">
110
</td>
<td style="text-align:left;">
1 à 99
</td>
<td style="text-align:left;">
COT-mètre
</td>
</tr>
<tr>
<td style="text-align:left;">
A définir
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
1 à 99
</td>
<td style="text-align:left;">
Analyseur Elementaire : balance + analyseur élémentaire
</td>
</tr>
<tr>
<td style="text-align:left;">
sm_[nom_vernaculaire]
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
1 à 99
</td>
<td style="text-align:left;">
Sonde Multiparamètres
</td>
</tr>
<tr>
<td style="text-align:left;">
A définir
</td>
<td style="text-align:left;">
113
</td>
<td style="text-align:left;">
1 à 99
</td>
<td style="text-align:left;">
Niveau d’Eau : mesure du niveau d’eau manuelle
</td>
</tr>
<tr>
<td style="text-align:left;">
A définir
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Autre appareil supplémentaire
</td>
</tr>
</tbody>
</table>
</div>
<div id="exemple-de-nommage-du-fichier-dentrée-icos_meteosol" class="section level2">
<h2><span class="header-section-number">2.3</span> Exemple de nommage du fichier d'entrée <code>ICOS_meteosol</code></h2>
<div class="alert alert-info" role="alert">
<h4 class="alert-heading">
<strong>Exemple</strong>
</h4>
<p>
Le fichier des données de météo-sol collectées durant toute la journée du 14/03/2018 dans la station BM de la tourbière de La Guette avec le logger 1 sous la forme d'un seul fichier est nommé de la manière suivante :
</p>
<p>
Fr-Lgt_BM_201803140000_L01_F01.csv
</p>
</div>
</div>
</div>
<div id="description-des-données-du-fichier-type-icos_meteosol" class="section level1">
<h1><span class="header-section-number">3</span> Description des données du fichier type <code>ICOS_meteosol</code></h1>
<div id="convention-de-nommage-des-variables" class="section level2">
<h2><span class="header-section-number">3.1</span> Convention de nommage des variables</h2>
<p>Le nommage des variables de type <code>meteosol</code> respecte la nomenclature ICOS, il s'appuie sur 4 éléments séparés par un &quot;tiret du 8&quot; <code>_</code> :</p>
<pre><code>[code_variable]_[code_profil]_[code_profondeur] ou [code_subplot]</code></pre>
<div id="code-des-variables-icos_meteosol-code_variable" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Code des variables <code>ICOS_meteosol</code> [Code_variable]</h3>
<div id="htmlwidget-edc55cb33f1bc8c8c174" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-edc55cb33f1bc8c8c174">{"x":{"filter":"none","data":[["TIMESTAMP","TIMESTAMP_DLSS","TIMESTAMP_DLNS","TS","SWC","G","G_SF","G_ISCAL","WCP","WTD","TA","PA","RH","LW_T_BODY","SW_T_BODY","SW_IN","SW_OUT","LW_IN","LW_OUT","PPFD_IN","PPFD_OUT","PPFD_DIF","PPFD_BC_IN","PPFD_BC_OUT","P","GWD","WS","WD"],["Time in the form YYYYMMDDHHMMSS.ss","Seconds since the epoch reference date","Nanoseconds from the beginning of the second","Température du sol","Teneur en eau du sol","Flux de chaleur dans le sol","Calibration/sensitivity factor of G","Calibration flag for G (without digits)","Water column pressure (for WTD calculation)","Water table depth","Température de l’air","Pression atmosphérique","Humidité relative de l’air","Body temperature of LW sensor","Body temperature of SW sensor (when measured)","Ondes courtes entrantes","Ondes courtes sortantes","Ondes longues entrantes","Ondes longues sortantes","Photosynthetic photon flux density","Photosynthetic photon flux density outgoing","Photosynthetic photon flux density diffuse","PPFD below canopy incoming","PPFD below canopy outgoing","Précipitation sous forme de pluie","Niveau de la nappe d’eau par rapport au haut des sphaignes","Vitesse du vent","Direction du vent"],["Date","Secondes","Nanosecondes","°C","%","W/m2","μV/(W/m2 )","Sans unité","Pa","m","°C","hPa","%","°C","°C","W/m2","W/m2","W/m2","W/m2","μmol/m2/s","μmol/m2/s","μmol/m2/s","μmol/m2/s","μmol/m2/s","mm","m","m/s","°"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>code_var<\/th>\n      <th>description<\/th>\n      <th>code_unite<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="code-des-profils-de-mesures-code_profil" class="section level3">
<h3><span class="header-section-number">3.1.2</span> Code des profils de mesures [Code_profil]</h3>
<table class="table table-striped table-hover table-condensed" style="float: left; margin-right: 10px;">
<thead>
<tr>
<th style="text-align:left;">
code_profil
</th>
<th style="text-align:left;">
description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
Premier profil
</td>
</tr>
<tr>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
Deuxième profil
</td>
</tr>
<tr>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
Troisième profil
</td>
</tr>
</tbody>
</table>
</div>
<div id="code-de-la-profondeur-de-la-mesure-code_profondeur" class="section level3">
<h3><span class="header-section-number">3.1.3</span> Code de la profondeur de la mesure [code_profondeur]</h3>
<table class="table table-striped table-hover table-condensed" style="float: left; margin-right: 10px;">
<thead>
<tr>
<th style="text-align:left;">
code_profondeur
</th>
<th style="text-align:left;">
description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
profondeur ou altitude la plus proche de la surface du sol
</td>
</tr>
<tr>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
profondeur ou altitude suivante (plus profond ou plus haut que 1)
</td>
</tr>
<tr>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
profondeur ou altitude suivante (plus profond ou plus haut que 2)
</td>
</tr>
</tbody>
</table>
</div>
<div id="numéro-du-subplot-de-la-mesure-code_subplot" class="section level3">
<h3><span class="header-section-number">3.1.4</span> Numéro du subplot de la mesure [code_subplot]</h3>
<table class="table table-striped table-hover table-condensed" style="float: left; margin-right: 10px;">
<thead>
<tr>
<th style="text-align:left;">
code_subplot
</th>
<th style="text-align:left;">
description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
capteur 1 du profil ‘i’ à la profondeur ‘j’
</td>
</tr>
<tr>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
capteur 2 du profil ‘i’ à la profondeur ‘j’
</td>
</tr>
<tr>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
capteur 3 du profil ‘i’ à la profondeur ‘j’
</td>
</tr>
</tbody>
</table>
</div>
<div id="exemple-de-nommage-dune-variable-météo-sol" class="section level3">
<h3><span class="header-section-number">3.1.5</span> Exemple de nommage d'une variable météo-sol</h3>
<div class="alert alert-info" role="alert">
<h4 class="alert-heading">
<strong>Exemple</strong>
</h4>
<p>
La température du sol provenant du profil numéro 2 à la troisième profondeur et du premier subplot s'écriera ainsi :
</p>
<p>
TS_2_3_1
</p>
</div>
</div>
</div>
</div>
<div id="stockage-du-fichier-icos_meteosol" class="section level1">
<h1><span class="header-section-number">4</span> Stockage du fichier <code>ICOS_meteosol</code></h1>
<p>Le fichier de type <code>ICOS_meteosol</code> est stocké selon le chemin suivant dans l'arborescence du SRV-SO :</p>
<table class="table table-striped table-hover table-condensed" style="float: left; margin-right: 10px;">
<thead>
<tr>
<th style="text-align:left;">
code_typefichier
</th>
<th style="text-align:left;">
extension
</th>
<th style="text-align:left;">
stockage
</th>
</tr>
</thead>
<tbody>
<tr>
</tr>
</tbody>
</table>
</div>
<div id="création-du-fichier-icos_eddycovariance" class="section level1">
<h1><span class="header-section-number">5</span> Création du fichier <code>ICOS_eddycovariance</code></h1>
<div id="automatique" class="section level2">
<h2><span class="header-section-number">5.1</span> Automatique</h2>
<p>A venir, présentation du script pour transformer automatiquement les fichiers <code>Brute_meteosol</code> au format <code>ICOS_meteosol</code></p>
</div>
<div id="manuel" class="section level2">
<h2><span class="header-section-number">5.2</span> Manuel</h2>
<p>Cette étape temporaire (optionnel) consiste à re-mettre en forme le fichier afin qu'il respecte les recommandations ICOS. Ces recommandations disponibles à cette <a href="https://docs.icos-cp.eu/share/s/HmJeIC1fSxy4rZBmO6FlZw">adresse</a> ont été présentés dans l'étape 1.</p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
